{% from 'macros/select.j2' import select %}
{% from 'macros/radio.j2' import radio %}
{% from 'macros/markers.j2' import gisaid, ena %}
{% from 'macros/markers.j2' import marker %}

<form action="{{ url_for('submit_samples') }}" method="POST">

<table>

	<input type="hidden" name="sample_id" value="{{ sample.sample_id }}" />

	<tr>
		<th> Property </th>
		<th> Value </th>
		<th> Description </th>
	</tr>

	
	<tr>
		<td> Sample name </td>
		<td> <input type="text" name="sample_name" value="{{ sample.sample_name }}"
			maxlength="200" onchange="changeSampleNames(this);"/> </td>
		<td> Name of the sequenced files. Use this to keep track of your samples in the database. </td>
	</tr>


	{% include('samples/fields/passage_details.html') %}
	{% include('samples/fields/collection_date.html') %}

	{% include('samples/fields/location.html') %}

	{% include('samples/fields/host.html') %}



	{% include('samples/fields/patient.html') %}

	

	<tr>
		<td>Sample capture status {{ marker("gisaid", requirement="recommended") }}</td>
		<td> {{ select("sample_capture_status", 
										sample_capture_statuses, 
										selected_id=sample.sample_captured_status_id) }} </td>
		<td>Reason for the sample collection.</td>
	</tr>


	<tr>
		<td> Serology detection {{ marker("ena", requirement="recommended") }}</td>
		<td>  </td>
		<td> Serology information complementing surveillance data. </td>
	</tr>

	<tr>
		<td> Outbreak {{ marker("gisaid", requirement="optional") }}</td>
		<td> <input type="text" name="outbreak" value="{{ sample.outbreak }}"/> </td>
		<td> Date, location <em> e.g. type of gathering, family cluster etc. </em> </td>
	</tr>



	
	{% include('samples/fields/methods.html') %}

	{% include('samples/fields/ilness.html') %}	




</table>

<input type="submit" value="Save"/>

</form>

<div class="legend">
	<p>Field {{ gisaid(requirement='mandatory') }}: the field is mandatory for submission to the GISAID database.</p>
	<p>Field {{ gisaid(requirement='optional') }}: the field is optional for submission to the GISAID database.</p>
	<p>Field {{ ena(requirement='mandatory') }}: the field is mandatory for submission to the ENA database.</p>
	<p>Field {{ ena(requirement='recommended') }}: the field is recommended for submission to the ENA database.</p>
	<p>Field {{ ena(requirement='optional') }}: the field is optional for submission to the ENA database.</p>

</div>
