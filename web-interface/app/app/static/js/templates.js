function newAttributeRow(){const e=document.querySelector("#template-editor-tab").tBodies[0],t=e.querySelector(".template-row").cloneNode(!0),l=(t.classList.remove("template-row"),e.rows.length-1);return Array.from(t.children).forEach(e=>{Array.from(e.children).forEach(e=>{"rmbutton"!=e.name&&(e.name=e.name.replace("+0+",`+${l}+`))})}),e.appendChild(t),t}function changedType(e,t){const l=e.querySelector(".pattern.column>input"),a=e.querySelector(".options.column>input"),n=e.querySelector(".template.column>input"),d=e.querySelector(".type.column>select");"text"==t?(l.disabled=!1,a.disabled=!0,n.disabled=!0):"select"==t?(l.disabled=!0,a.disabled=!1,n.disabled=!0):"date"==t?(l.disabled=!0,a.disabled=!0,n.disabled=!0):"template"==t&&(l.disabled=!0,a.disabled=!0,n.disabled=!1),d.value=t,updateDefaultCell(e)}function updateDefaultCell(l){type=l.querySelector(".type.column>select").value,defaultCell=l.querySelector(".default.column");let a;if("text"==type)(a=document.createElement("input")).setAttribute("type","text");else if("date"==type)(a=document.createElement("input")).setAttribute("type","date");else if("select"==type){a=document.createElement("select");let e=l.querySelector(".options.column>input").value.split(","),t;e.forEach(e=>{(t=document.createElement("option")).innerHTML=e,t.value=e,a.add(t)})}else"template"==type&&((a=document.createElement("input")).setAttribute("type","text"),a.disabled=!0);a.name=defaultCell.children[0].name,defaultCell.replaceChild(a,defaultCell.children[0])}function removeTemplateRow(e){e.remove()}