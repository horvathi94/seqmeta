<h1>Template editor</h1>


<form action="{{ url_for('formtemplate_bp.submit') }}" method="POST" onkeydown="return event.key != 'Enter';">

	{% include("templates/enachecklist.html") %}

	<div id="name-field">
		<label for="template_name">Template name:</label>
		<input type="text" id="template-name-field" name="template_name" required="required" pattern="[a-zA-z0-9_-]+" value="{{ template.name }}"/>
	</div>

	<textarea name="template+0+short_description" cols="30" rows="10">{{ template.short_description }}</textarea>


	<div id="taxonomy">
		<label for="search-term">Search</label>
		<input type="text" name="search-term" id="taxonomy-search-term">
		<input type="button" onclick="fetchTaxonomyData();" value="Search">
		<select id="taxonomy-selector" onchange="changeTaxonomy();">
			<option value=""></option>
		</select>

		<label for="taxonomy+0+taxonomy_id">Taxonomy ID:</label>
		<input type="text" id="taxonomy-id" name="taxonomy+0+taxonomy_id" pattern="^[0-9]+$" required="required">

		<label for="taxonomy+0+scientific_name">Scientific name:</label>
		<input type="text" id="scientific-name" name="taxonomy+0+scientific_name" required="required">

		<label for="taxonomy+0+common_name">Common name:</label>
		<input type="text" id="common-name" name="taxonomy+0+common_name">
	</div>


	<div id="template-editor">
		<padded-row class="header">
			<attr-row class="header">
				<attr-cell class="header remove">Remove</attr-cell>
				<attr-cell class="header general_name">General name</attr-cell>
				<attr-cell class="header label">Label</attr-cell>
				<attr-cell class="header type_">Type</attr-cell>
				<attr-cell class="header ena">ENA</attr-cell>
				<attr-cell class="header gisaid">GISAID</attr-cell>
				<attr-cell class="header params">Parameters</attr-cell>
				<attr-cell class="header default">Default</attr-cell>
				<attr-cell class="header description">Description</attr-cell>
			</attr-row>
		</padded-row>
	</div>


	<input type="button" onclick="appendBlankRow();" value="Add">

	<input type="submit" value="Save">

</form>
