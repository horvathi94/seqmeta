<h1>Template editor</h1>


<form action="{{ url_for('formtemplate_bp.submit') }}" method="POST" onkeydown="return event.key != 'Enter';">

	{% include("templates/enachecklist.html") %}

	<div id="name-field">
		<label for="template_name">Template name:</label>
		<input type="text" id="template-name-field" name="template_name" required="required" pattern="[a-zA-z0-9_-]+" value="{{ template.name }}"/>
	</div>

	<textarea name="template+0+short_description" cols="30" rows="10">{{ template.short_description }}</textarea>


	<div id="taxonomy">
		<label for="search-term">Search</label>
		<input type="text" name="search-term" id="taxonomy-search-term">
		<input type="button" onclick="fetchTaxonomyData();" value="Search">
		<select id="taxonomy-selector" onchange="changeTaxonomy();">
			<option value=""></option>
		</select>

		<label for="taxonomy+0+taxonomy_id">Taxonomy ID:</label>
		<input type="text" id="taxonomy-id" name="taxonomy+0+taxonomy_id" pattern="^[0-9]+$" required="required">

		<label for="taxonomy+0+scientific_name">Scientific name:</label>
		<input type="text" id="scientific-name" name="taxonomy+0+scientific_name" required="required">

		<label for="taxonomy+0+common_name">Common name:</label>
		<input type="text" id="common-name" name="taxonomy+0+common_name">
	</div>

	<div id="template-editor">
		<div class="rowpad header">
			<div class="row header">
				<div class="cell remove">Remove</div>
				<div class="cell">General name</div>
				<div class="cell">Label</div>
				<div class="cell">Type</div>
				<div class="cell">ENA</div>
				<div class="cell">GISAID</div>
				<div class="cell">Field attrib</div>
				<div class="cell">Default</div>
				<div class="cell">Description</div>
			</div>
		</div>
	</div>

	<input type="button" onclick="insertNewAttribute();" value="Add">

	<input type="submit" value="Save">

</form>
